<div class="container">
  <h2>Donation Form</h2>
  <div class="page">
    <form [formGroup]="formdata" (ngSubmit)="onClicksubmit()">
      <div class="p-float-label">
        <input
          id="float-input"
          name="fname"
          formControlName="fname"
          type="text"
          pInputText
        />
        <label for="float-input">Full Name</label>
        <br />
        <small *ngIf="Fname?.invalid && Fname?.touched"
          ><span style="color: tomato">Invalid Full Name</span></small
        >
      </div>
      <br />
      <div class="p-float-label">
        <input
          id="float-input"
          name="email"
          formControlName="email"
          type="text"
          pInputText
        />
        <label for="float-input">Email-Id</label>
        <br />
        <small *ngIf="Email?.invalid && Email?.touched"
          ><span style="color: tomato">Invalid Email</span></small
        >
      </div>
      <br />
      <div class="p-float-label">
        <input
          id="float-input"
          name="mobile"
          
          formControlName="mobile"
          type="text"
          pInputText
        />
        <label for="float-input">Mobile</label>
        <br />
        <small *ngIf="Mobile?.invalid && Mobile?.touched"
          ><span style="color: tomato">Invalid Mobile</span></small
        >
      </div>
      <br />
      <div class="p-float-label">
        <input
          id="float-input"
          name="amount"
          formControlName="amount"
          type="text"
          pInputText
        />
        <label for="float-input">Rs*</label>
        <br />
        <small *ngIf="Amount?.invalid && Amount?.touched"
          ><span style="color: tomato">Less Amount</span></small
        >
      </div>
      <br />
      <span *ngIf="updatebtn==false">
      <button
        class="btn"
        pButton
        type="submit"
        label="Submit"
        [disabled]="!formdata.valid"
        class="p-button-outlined"
      ></button>
    </span>
    <span *ngIf="updatebtn==true">
      <button
        class="btn"
        (click)="update(formdata.value)"
        pButton
        type="button"
        label="Update"
        [disabled]="!formdata.valid"
        class="p-button-outlined"
      ></button>
    </span>
    </form>
  </div>
</div>
<br /><br />
<span *ngIf="show == false">
  <button
    pButton
    (click)="display()"
    type="display"
    label="View List"
    class="p-button-outlined"
  ></button>
</span>
<span *ngIf="show == true">
  <button
    pButton
    (click)="closeDisplay()"
    type="display"
    label="Close List"
    class="p-button-outlined"
  ></button>
</span>
<div *ngIf="visible == true">
  <p-table [value]="list" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Mobile</th>
        <th>Amount</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.fname }}</td>
        <td>{{ product.email }}</td>
        <td>{{ product.mobile }}</td>
        <td>{{ product.amount }}</td>
        <td><i class="pi pi-file-edit" (click)="edit(product.id)"></i></td>
        <td>
          <i class="pi pi-trash" (click)="deleteUser(product.id)"></i>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
